{# Inserts a stepped progress indicator for the new package form. Each stage can
  have one of three states, "uncomplete", "complete" and "active".
  
  stages - A list of states for each of the four stages. Missing stages default
           to "uncomplete".
  
  Example:
  
      {% snippet 'package/snippets/stages.html', stages=['active', 'uncomplete', 'uncomplete', 'uncomplete'] %}
      {% snippet 'package/snippets/stages.html', stages=['complete', 'active', 'uncomplete', 'uncomplete'] %}
  #}
  {% set s1 = stages[0] if stages|length > 0 else 'active' %}
  {% set s2 = stages[1] if stages|length > 1 else 'complete' %}
  {% set s3 = stages[2] if stages|length > 2 else 'complete' %}
  {% set s4 = stages[3] if stages|length > 3 else 'complete' %}
  {% set dataset_type = dataset_type or h.default_package_type() %}

<ol class="stages">
  {% if '/dataset/edit' not in request.path %}
    <li class="stage {{ s1 }}">
      <span class="highlight">{{ _('Terms and Conditions') }}</span>
    </li>
  {% endif %}
  <li class="stage {{ s2 }}">
    {% if '/dataset/edit' not in request.path %}
    <span class="highlight">{{ h.humanize_entity_type('package', dataset_type, 'create label') or _('Create dataset') }}</span>
    {% else %}
    <span class="highlight">{{ h.humanize_entity_type('package', dataset_type, 'create label') or _('Update dataset') }}</span>
    {% endif %}
  </li>
  <li class="stage {{ s3 }}">
    <span class="highlight">{{ _('Add data') }}</span>
  </li>
  <li class="stage {{ s4 }}">
    <span class="highlight">{{ _('Send to Review') }}</span>
  </li>
</ol>
